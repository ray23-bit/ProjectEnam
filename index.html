<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>RIZQI O - Chatbot, Generator Gambar & Audio Canggih</title>
    <style>
        :root {
            --primary-color: #6c5ce7;
            --secondary-color: #a29bfe;
            --dark-color: #2d3436;
            --light-color: #f5f6fa;
            --success-color: #00b894;
            --warning-color: #fdcb6e;
            --danger-color: #d63031;
            --bg-color: #e0e5ec;
            --text-color: #2d3436;
            --panel-bg: #e0e5ec;
            --shadow-light: #ffffff;
            --shadow-dark: #a3b1c6;
            --blur-amount: 10px;
            --border-radius: 20px;
            --neumorph-light: #ffffff;
            --neumorph-dark: #a3b1c6;
        }
        
        .dark-mode {
            --bg-color: #1a1a1a;
            --text-color: #f5f6fa;
            --panel-bg: #2d3436;
            --shadow-light: #3d4346;
            --shadow-dark: #1e2224;
            --neumorph-light: #3d4346;
            --neumorph-dark: #1e2224;
            --primary-color: #6c5ce7;
            --secondary-color: #a29bfe;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            -webkit-tap-highlight-color: transparent;
            transition: all 0.3s ease;
        }
        
        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            min-height: 100vh;
            padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
            background-image: linear-gradient(145deg, var(--panel-bg), var(--bg-color));
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 15px;
            width: 100%;
        }
        
        header {
            <img src="images/logo-rizqi-o-mobile-200x50.png" alt="Logo Rizqi O" width="200" height="50
            text-align: center;
            margin-bottom: 20px;
            padding: 20px 0;
            background: var(--panel-bg);
            color: var(--text-color);
            border-radius: var(--border-radius);
            position: relative;
            overflow: hidden;
            box-shadow: 8px 8px 15px var(--shadow-dark), 
                        -8px -8px 15px var(--shadow-light);
            border: none;
        }
        
        h1 {
            font-size: clamp(1.8rem, 5vw, 2.5rem);
            margin-bottom: 8px;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .tagline {
            font-size: clamp(0.9rem, 3vw, 1.2rem);
            opacity: 0.8;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }
        
        .panel {
            background: var(--panel-bg);
            border-radius: var(--border-radius);
            padding: 20px;
            height: auto;
            min-height: 500px;
            display: flex;
            flex-direction: column;
            box-shadow: 8px 8px 15px var(--shadow-dark), 
                       -8px -8px 15px var(--shadow-light);
            border: none;
        }
        
        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .panel-title {
            font-size: clamp(1.2rem, 4vw, 1.5rem);
            color: var(--primary-color);
            font-weight: 600;
        }
        
        .panel-controls {
            display: flex;
            gap: 10px;
        }
        
        .panel-controls button {
            background: var(--panel-bg);
            color: var(--primary-color);
            border: none;
            padding: 8px 12px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.3s ease;
            white-space: nowrap;
            box-shadow: 5px 5px 10px var(--shadow-dark), 
                       -5px -5px 10px var(--shadow-light);
            display: flex;
            align-items: center;
            gap: 5px;
            border: none;
        }
        
        .panel-controls button:hover {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            box-shadow: inset 3px 3px 5px rgba(0, 0, 0, 0.2);
        }
        
        .panel-controls button:active {
            box-shadow: inset 5px 5px 10px var(--shadow-dark), 
                       inset -5px -5px 10px var(--shadow-light);
        }
        
        .panel-controls button svg {
            width: 16px;
            height: 16px;
        }
        
        .chat-container {
            flex: 1;
            overflow-y: auto;
            margin-bottom: 15px;
            padding: 15px;
            background: var(--panel-bg);
            border-radius: var(--border-radius);
            box-shadow: inset 5px 5px 10px var(--shadow-dark), 
                       inset -5px -5px 10px var(--shadow-light);
            -webkit-overflow-scrolling: touch;
            border: none;
            max-height: 400px;
        }
        
        .message {
            margin-bottom: 12px;
            padding: 12px 16px;
            border-radius: 18px;
            max-width: 85%;
            word-wrap: break-word;
            font-size: clamp(0.9rem, 3.5vw, 1rem);
            line-height: 1.4;
            box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.1);
        }
        
        .user-message {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            margin-left: auto;
            border-bottom-right-radius: 5px;
            box-shadow: 5px 5px 10px var(--shadow-dark);
        }
        
        .bot-message {
            background: var(--panel-bg);
            margin-right: auto;
            border-bottom-left-radius: 5px;
            box-shadow: 5px 5px 10px var(--shadow-dark), 
                       -5px -5px 10px var(--shadow-light);
            color: var(--text-color);
        }
        
        .chat-input {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .chat-input input {
            flex: 1;
            padding: 14px 18px;
            background: var(--panel-bg);
            border: none;
            border-radius: 20px;
            outline: none;
            font-size: clamp(0.9rem, 4vw, 1rem);
            min-height: 50px;
            color: var(--text-color);
            box-shadow: inset 5px 5px 10px var(--shadow-dark), 
                       inset -5px -5px 10px var(--shadow-light);
        }
        
        .chat-input input::placeholder {
            color: rgba(0, 0, 0, 0.4);
        }
        
        .chat-input button {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            padding: 14px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-size: clamp(0.9rem, 4vw, 1rem);
            transition: all 0.3s ease;
            min-height: 50px;
            min-width: 90px;
            box-shadow: 5px 5px 10px var(--shadow-dark);
            font-weight: 600;
        }
        
        .chat-input button:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }
        
        .chat-input button:active {
            transform: translateY(0);
            box-shadow: inset 3px 3px 5px rgba(0, 0, 0, 0.3);
        }
        
        /* Image Grid Styles */
        .image-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 15px;
            flex: 1;
            min-height: 250px;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .image-item {
            position: relative;
            border-radius: 15px;
            overflow: hidden;
            aspect-ratio: 1/1;
            background: var(--panel-bg);
            box-shadow: 5px 5px 10px var(--shadow-dark), 
                        -5px -5px 10px var(--shadow-light);
            display: flex;
            justify-content: center;
            align-items: center;
            transition: all 0.3s ease;
        }
        
        .image-item:hover {
            transform: translateY(-5px);
            box-shadow: 8px 8px 15px var(--shadow-dark), 
                       -8px -8px 15px var(--shadow-light);
        }
        
        .image-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .image-item .image-info {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 8px;
            font-size: 0.8rem;
            text-align: center;
            backdrop-filter: blur(5px);
        }
        
        .image-item .download-btn {
            position: absolute;
            top: 8px;
            right: 8px;
            background: var(--success-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            transition: all 0.3s ease;
            box-shadow: 3px 3px 5px rgba(0, 0, 0, 0.2);
        }
        
        .image-item:hover .download-btn {
            opacity: 1;
            transform: translateY(0);
        }
        
        .image-controls {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
        }
        
        .image-controls input {
            padding: 14px 18px;
            background: var(--panel-bg);
            border: none;
            border-radius: 20px;
            outline: none;
            font-size: clamp(0.9rem, 4vw, 1rem);
            min-height: 50px;
            color: var(--text-color);
            box-shadow: inset 5px 5px 10px var(--shadow-dark), 
                       inset -5px -5px 10px var(--shadow-light);
        }
        
        .image-controls input::placeholder {
            color: rgba(0, 0, 0, 0.4);
        }
        
        .image-actions {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }
        
        .image-actions button {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            padding: 14px 18px;
            border-radius: 20px;
            cursor: pointer;
            font-size: clamp(0.9rem, 4vw, 1rem);
            transition: all 0.3s ease;
            min-width: 120px;
            box-shadow: 5px 5px 10px var(--shadow-dark);
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .image-actions button.secondary {
            background: var(--panel-bg);
            color: var(--primary-color);
            box-shadow: 5px 5px 10px var(--shadow-dark), 
                       -5px -5px 10px var(--shadow-light);
        }
        
        .image-actions button.secondary:hover {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            box-shadow: inset 3px 3px 5px rgba(0, 0, 0, 0.2);
        }
        
        .image-actions button:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }
        
        .image-actions button:active {
            transform: translateY(0);
            box-shadow: inset 3px 3px 5px rgba(0, 0, 0, 0.3);
        }
        
        /* Audio Player Styles */
        .audio-player {
            width: 100%;
            margin-bottom: 15px;
            background: var(--panel-bg);
            border-radius: var(--border-radius);
            padding: 15px;
            box-shadow: inset 5px 5px 10px var(--shadow-dark), 
                       inset -5px -5px 10px var(--shadow-light);
        }
        
        .audio-controls {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }
        
        .audio-controls button {
            background: var(--panel-bg);
            color: var(--primary-color);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 5px 5px 10px var(--shadow-dark), 
                       -5px -5px 10px var(--shadow-light);
        }
        
        .audio-controls button:hover {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
        }
        
        .audio-controls button:active {
            box-shadow: inset 3px 3px 5px rgba(0, 0, 0, 0.2);
        }
        
        .audio-progress {
            flex: 1;
            height: 8px;
            background: var(--panel-bg);
            border-radius: 4px;
            position: relative;
            overflow: hidden;
            box-shadow: inset 3px 3px 5px var(--shadow-dark), 
                       inset -3px -3px 5px var(--shadow-light);
        }
        
        .audio-progress-bar {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            width: 0%;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border-radius: 4px;
            transition: width 0.1s linear;
        }
        
        .audio-time {
            font-size: 0.8rem;
            color: var(--text-color);
            opacity: 0.7;
            min-width: 80px;
            text-align: center;
        }
        
        .audio-info {
            margin-bottom: 10px;
            font-size: 0.9rem;
            color: var(--text-color);
        }
        
        .audio-download {
            background: var(--success-color);
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            gap: 5px;
            box-shadow: 3px 3px 5px var(--shadow-dark);
        }
        
        .audio-download:hover {
            opacity: 0.9;
        }
        
        .audio-download:active {
            box-shadow: inset 2px 2px 3px rgba(0, 0, 0, 0.3);
        }
        
        .voice-selector {
            width: 100%;
            padding: 12px 15px;
            background: var(--panel-bg);
            border: none;
            border-radius: 15px;
            outline: none;
            font-size: clamp(0.9rem, 4vw, 1rem);
            margin-bottom: 15px;
            color: var(--text-color);
            box-shadow: inset 5px 5px 10px var(--shadow-dark), 
                       inset -5px -5px 10px var(--shadow-light);
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 15px center;
            background-size: 16px;
        }
        
        .loading {
            display: inline-block;
            width: 24px;
            height: 24px;
            border: 3px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            border-top-color: var(--primary-color);
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .image-settings {
            display: flex;
            gap: 12px;
            margin-bottom: 15px;
        }
        
        .aspect-ratio-selector, .model-selector {
            flex: 1;
        }
        
        .aspect-ratio-selector select, .model-selector select {
            width: 100%;
            padding: 12px 15px;
            background: var(--panel-bg);
            border: none;
            border-radius: 15px;
            outline: none;
            font-size: clamp(0.8rem, 3.5vw, 0.9rem);
            min-height: 50px;
            color: var(--text-color);
            box-shadow: inset 5px 5px 10px var(--shadow-dark), 
                       inset -5px -5px 10px var(--shadow-light);
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 15px center;
            background-size: 16px;
        }
        
        .tab-container {
            display: flex;
            margin-bottom: 15px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .tab {
            padding: 12px 20px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
            font-size: clamp(0.9rem, 4vw, 1rem);
            white-space: nowrap;
            color: rgba(0, 0, 0, 0.6);
            font-weight: 500;
        }
        
        .tab.active {
            border-bottom: 3px solid var(--primary-color);
            color: var(--primary-color);
            font-weight: 600;
        }
        
        .tab-content {
            display: none;
            flex: 1;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        .tab-content.active {
            display: flex;
            flex-direction: column;
        }
        
        .settings-panel {
            padding: 15px;
            background: var(--panel-bg);
            border-radius: var(--border-radius);
            margin-top: 10px;
            overflow-y: auto;
            box-shadow: inset 5px 5px 10px var(--shadow-dark), 
                       inset -5px -5px 10px var(--shadow-light);
        }
        
        .settings-group {
            margin-bottom: 15px;
        }
        
        .settings-group h4 {
            margin-bottom: 10px;
            color: var(--text-color);
            font-size: clamp(0.9rem, 4vw, 1rem);
            font-weight: 600;
        }
        
        .settings-group label {
            display: block;
            margin-bottom: 8px;
            font-size: clamp(0.8rem, 3.5vw, 0.9rem);
            color: var(--text-color);
            opacity: 0.8;
        }
        
        .settings-group input, .settings-group select {
            width: 100%;
            padding: 12px 15px;
            background: var(--panel-bg);
            border: none;
            border-radius: 12px;
            font-size: clamp(0.8rem, 3.5vw, 0.9rem);
            min-height: 50px;
            color: var(--text-color);
            box-shadow: inset 5px 5px 10px var(--shadow-dark), 
                       inset -5px -5px 10px var(--shadow-light);
        }
        
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 14px 22px;
            border-radius: 15px;
            box-shadow: 5px 5px 15px rgba(0, 0, 0, 0.2);
            z-index: 100;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        .notification.show {
            transform: translateY(0);
            opacity: 1;
        }

        /* Mobile-specific adjustments */
        @media (max-width: 768px) {
            .image-grid {
                grid-template-columns: 1fr;
            }
            
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .image-actions {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 10px;
            }
            
            header {
                padding: 15px 0;
                margin-bottom: 15px;
            }
            
            .panel {
                padding: 15px;
                min-height: 400px;
            }
            
            .message {
                max-width: 90%;
                padding: 10px 14px;
            }
            
            .chat-input, .image-controls {
                gap: 10px;
            }
            
            .chat-input input, .image-controls input {
                padding: 12px 15px;
            }
            
            .chat-input button, .image-controls button {
                padding: 12px 15px;
                min-width: auto;
            }
            
            .tab {
                padding: 10px 15px;
            }
            
            .image-settings {
                flex-direction: column;
                gap: 10px;
            }
            
            .panel-controls {
                gap: 8px;
            }
            
            .panel-controls button {
                padding: 6px 10px;
                font-size: 0.7rem;
            }
            
            .notification {
                bottom: 15px;
                right: 15px;
                padding: 12px 18px;
                font-size: 0.9rem;
            }
        }

        /* Prevent zoom on input focus on mobile */
        @media screen and (max-width: 767px) {
            input, select, textarea {
                font-size: 16px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <header>
            <img src="logo-rizqi-o.png" alt="Rizqi O AI Logo" class="logo-img">
            <div class="logo">Rizqi O AI</div>
            <h1>RIZQI O</h1>
            <p class="tagline">Chatbot, Generator Gambar & Audio Canggih</p>
        </header>
        
        <div class="main-content">
            <div class="panel">
                <div class="panel-header">
                    <h2 class="panel-title">Chatbot AI</h2>
                    <div class="panel-controls">
                        <button id="clear-chat">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M3 6h18"></path>
                                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                            </svg>
                            Bersihkan
                        </button>
                        <button id="theme-toggle">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="12" cy="12" r="5"></circle>
                                <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path>
                            </svg>
                        </button>
                    </div>
                </div>
                
                <div class="tab-container">
                    <div class="tab active" data-tab="chat">Chat</div>
                    <div class="tab" data-tab="settings">Pengaturan</div>
                </div>
                
                <div class="tab-content active" id="chat-tab">
                    <div class="chat-container" id="chat-container">
                        <div class="message bot-message">
                            Halo! Saya RIZQI O, asisten AI Anda. Bagaimana saya bisa membantu Anda hari ini?
                        </div>
                    </div>
                    
                    <div class="chat-input">
                        <input type="text" id="user-input" placeholder="Ketik pesan Anda..." autocomplete="off">
                        <button id="send-button">Kirim</button>
                    </div>
                </div>
                
                <div class="tab-content" id="settings-tab">
                    <div class="settings-panel">
                        <div class="settings-group">
                            <h4>Model AI</h4>
                            <select id="text-model">
                                <option value="default">Default (Pollinations Text AI)</option>
                                <option value="gpt-3.5">GPT-3.5 (OpenAI)</option>
                                <option value="gpt-4">GPT-4 (OpenAI)</option>
                            </select>
                        </div>
                        
                        <div class="settings-group">
                            <h4>Gaya Respons</h4>
                            <select id="response-style">
                                <option value="default">Default</option>
                                <option value="formal">Formal</option>
                                <option value="casual">Kasual</option>
                                <option value="technical">Teknis</option>
                                <option value="creative">Kreatif</option>
                            </select>
                        </div>
                        
                        <div class="settings-group">
                            <h4>Bahasa</h4>
                            <select id="language">
                                <option value="id">Bahasa Indonesia</option>
                                <option value="en">English</option>
                                <option value="ja">日本語</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="panel">
                <div class="panel-header">
                    <h2 class="panel-title">Generator Gambar AI</h2>
                    <div class="panel-controls">
                        <button id="random-prompt">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                                <path d="M3.27 6.96L12 12.01l8.73-5.05"></path>
                                <path d="M12 22.08V12"></path>
                            </svg>
                            Acak
                        </button>
                    </div>
                </div>
                
                <div class="image-grid" id="image-grid">
                    <!-- Images will be generated here -->
                    <div class="image-item">
                        <p>Gambar 1 akan muncul di sini</p>
                    </div>
                    <div class="image-item">
                        <p>Gambar 2 akan muncul di sini</p>
                    </div>
                    <div class="image-item">
                        <p>Gambar 3 akan muncul di sini</p>
                    </div>
                    <div class="image-item">
                        <p>Gambar 4 akan muncul di sini</p>
                    </div>
                </div>
                
                <div class="image-settings">
                    <div class="aspect-ratio-selector">
                        <select id="aspect-ratio">
                            <option value="1:1">Aspect Ratio 1:1</option>
                            <option value="9:16">Aspect Ratio 9:16</option>
                            <option value="16:9">Aspect Ratio 16:9</option>
                        </select>
                    </div>
                    
                    <div class="model-selector">
                        <select id="image-model">
                            <option value="default">Default Model</option>
                            <option value="stable-diffusion">Stable Diffusion</option>
                            <option value="dall-e">DALL-E</option>
                            <option value="midjourney">MidJourney</option>
                        </select>
                    </div>
                </div>
                
                <div class="image-controls">
                    <input type="text" id="image-prompt" placeholder="Deskripsi gambar yang ingin dibuat..." autocomplete="off">
                    <div class="image-actions">
                        <button id="generate-button">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                                <path d="M3.27 6.96L12 12.01l8.73-5.05"></path>
                                <path d="M12 22.08V12"></path>
                            </svg>
                            Generate
                        </button>
                        <button id="regenerate-button" class="secondary">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M1 4v6h6"></path>
                                <path d="M23 20v-6h-6"></path>
                                <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>
                            </svg>
                            Regenerate
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="panel">
                <div class="panel-header">
                    <h2 class="panel-title">Generator Audio AI</h2>
                    <div class="panel-controls">
                        <button id="random-audio-prompt">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                                <path d="M3.27 6.96L12 12.01l8.73-5.05"></path>
                                <path d="M12 22.08V12"></path>
                            </svg>
                            Acak
                        </button>
                    </div>
                </div>
                
                <div class="audio-player" id="audio-player">
                    <div class="audio-info" id="audio-info">Audio akan muncul di sini setelah digenerate</div>
                    <audio id="audio-element" style="display: none;"></audio>
                    <div class="audio-controls">
                        <button id="play-button">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <polygon points="5 3 19 12 5 21 5 3"></polygon>
                            </svg>
                        </button>
                        <div class="audio-progress">
                            <div class="audio-progress-bar" id="progress-bar"></div>
                        </div>
                        <div class="audio-time" id="audio-time">00:00 / 00:00</div>
                        <button id="download-audio" class="audio-download">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="7 10 12 15 17 10"></polyline>
                                <line x1="12" y1="15" x2="12" y2="3"></line>
                            </svg>
                            Download
                        </button>
                    </div>
                </div>
                
                <select class="voice-selector" id="voice-selector">
                    <option value="alloy">Alloy (Default)</option>
                    <option value="echo">Echo</option>
                    <option value="fable">Fable</option>
                    <option value="onyx">Onyx</option>
                    <option value="nova">Nova</option>
                    <option value="shimmer">Shimmer</option>
                </select>
                
                <div class="chat-input">
                    <input type="text" id="audio-prompt" placeholder="Masukkan teks untuk diubah menjadi audio..." autocomplete="off">
                    <button id="generate-audio-button">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path>
                            <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
                            <line x1="12" y1="19" x2="12" y2="23"></line>
                            <line x1="8" y1="23" x2="16" y2="23"></line>
                        </svg>
                        Generate
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="notification" id="notification"></div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Theme toggle functionality
            const themeToggle = document.getElementById('theme-toggle');
            const body = document.body;
            
            // Check for saved theme preference or use preferred color scheme
            const savedTheme = localStorage.getItem('theme');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            
            if (savedTheme === 'dark' || (!savedTheme && prefersDark)) {
                body.classList.add('dark-mode');
                themeToggle.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>';
            }
            
            themeToggle.addEventListener('click', function() {
                body.classList.toggle('dark-mode');
                
                if (body.classList.contains('dark-mode')) {
                    localStorage.setItem('theme', 'dark');
                    themeToggle.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>';
                } else {
                    localStorage.setItem('theme', 'light');
                    themeToggle.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path></svg>';
                }
            });
            
            // Notification function
            function showNotification(message) {
                const notification = document.getElementById('notification');
                notification.textContent = message;
                notification.classList.add('show');
                
                setTimeout(() => {
                    notification.classList.remove('show');
                }, 3000);
            }
            
            // Tab functionality
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    // Remove active class from all tabs and contents
                    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                    
                    // Add active class to clicked tab and corresponding content
                    this.classList.add('active');
                    const tabId = this.getAttribute('data-tab');
                    document.getElementById(`${tabId}-tab`).classList.add('active');
                });
            });
            
            // Chat functionality
            const chatContainer = document.getElementById('chat-container');
            const userInput = document.getElementById('user-input');
            const sendButton = document.getElementById('send-button');
            const clearChatButton = document.getElementById('clear-chat');
            
            function addMessage(text, isUser) {
                const messageDiv = document.createElement('div');
                messageDiv.classList.add('message');
                messageDiv.classList.add(isUser ? 'user-message' : 'bot-message');
                messageDiv.textContent = text;
                chatContainer.appendChild(messageDiv);
                chatContainer.scrollTop = chatContainer.scrollHeight;
            }
            
            async function sendMessage() {
                const message = userInput.value.trim();
                if (!message) return;
                
                addMessage(message, true);
                userInput.value = '';
                
                // Show loading indicator
                const loadingDiv = document.createElement('div');
                loadingDiv.classList.add('message', 'bot-message');
                loadingDiv.innerHTML = '<div class="loading"></div>';
                chatContainer.appendChild(loadingDiv);
                chatContainer.scrollTop = chatContainer.scrollHeight;
                
                try {
                    // Get selected model
                    const model = document.getElementById('text-model').value;
                    let response;
                    
                    if (model === 'default') {
                        // Use Pollinations.AI text generation
                        const encodedPrompt = encodeURIComponent(message);
                        const apiUrl = `https://text.pollinations.ai/${encodedPrompt}`;
                        
                        const res = await fetch(apiUrl);
                        response = await res.text();
                    } else {
                        // For demo purposes, simulate GPT response
                        // In a real app, you would call the OpenAI API
                        response = `Saya adalah simulasi respons dari ${model}. Pertanyaan Anda: "${message}". Maaf, ini hanya demonstrasi antarmuka. Untuk implementasi nyata, Anda perlu mengintegrasikan dengan API OpenAI yang sesungguhnya.`;
                    }
                    
                    // Remove loading indicator
                    chatContainer.removeChild(loadingDiv);
                    
                    // Add bot response
                    addMessage(response, false);
                } catch (error) {
                    console.error('Error:', error);
                    chatContainer.removeChild(loadingDiv);
                    addMessage('Maaf, terjadi kesalahan saat memproses permintaan Anda.', false);
                }
            }
            
            sendButton.addEventListener('click', sendMessage);
            userInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') sendMessage();
            });
            
            clearChatButton.addEventListener('click', function() {
                chatContainer.innerHTML = '<div class="message bot-message">Halo! Saya RIZQI O, asisten AI Anda. Bagaimana saya bisa membantu Anda hari ini?</div>';
            });
            
            // Image generation functionality
            const imageGrid = document.getElementById('image-grid');
            const imagePrompt = document.getElementById('image-prompt');
            const generateButton = document.getElementById('generate-button');
            const regenerateButton = document.getElementById('regenerate-button');
            const randomPromptButton = document.getElementById('random-prompt');
            const imageModel = document.getElementById('image-model');
            const aspectRatio = document.getElementById('aspect-ratio');
            
            const randomPrompts = [
                "Pemandangan kota futuristik dengan langit senja yang dramatis",
                "Kucing astronaut bermain piano di ruang angkasa",
                "Istana kristal terapung di atas awan, gaya seni digital",
                "Dragon cyberpunk bertengger di atas gedung pencakar langit",
                "Potret detil wajah robot dengan ekspresi manusiawi",
                "Hutan ajaib dengan pohon bercahaya di malam hari",
                "Kapal layar antariksa menjelajahi nebula berwarna-warni",
                "Konsep seni karakter game dengan armor futuristic",
                "Pemandangan bawah laut dengan kota Atlantis yang megah",
                "Mekanisme jam fantasi dengan detail steampunk"
            ];
            
            randomPromptButton.addEventListener('click', function() {
                const randomIndex = Math.floor(Math.random() * randomPrompts.length);
                imagePrompt.value = randomPrompts[randomIndex];
            });

            // Function to generate a random seed for image generation
            function generateRandomSeed() {
                return Math.floor(Math.random() * 1000000);
            }
            
            // Function to download individual image
            function downloadImage(url, prompt, index) {
                fetch(url)
                    .then(response => response.blob())
                    .then(blob => {
                        const url = window.URL.createObjectURL(blob);
                        const link = document.createElement('a');
                        link.href = url;
                        const promptText = prompt.trim().substring(0, 30).replace(/[^a-z0-9]/gi, '_').toLowerCase();
                        link.download = `rizqio_${promptText || 'image'}_${index + 1}.jpg`;
                        document.body.appendChild(link);
                        link.click();
                        document.body.removeChild(link);
                        
                        // Show success notification
                        showNotification(`Gambar ${index + 1} berhasil didownload!`);
                    })
                    .catch(error => {
                        console.error('Download error:', error);
                        showNotification('Gagal mendownload gambar');
                    });
            }
            
            // Function to generate images with different styles
            async function generateImages(isRegenerate = false) {
                const prompt = imagePrompt.value.trim();
                if (!prompt) {
                    showNotification('Silakan masukkan prompt terlebih dahulu');
                    return;
                }
                
                // Show loading state
                const imageItems = imageGrid.querySelectorAll('.image-item');
                imageItems.forEach(item => {
                    item.innerHTML = '<div class="loading" style="width: 30px; height: 30px;"></div>';
                });
                
                generateButton.disabled = true;
                regenerateButton.disabled = true;
                
                if (isRegenerate) {
                    regenerateButton.innerHTML = '<div class="loading" style="width: 16px; height: 16px;"></div>';
                } else {
                    generateButton.innerHTML = '<div class="loading" style="width: 16px; height: 16px;"></div>';
                }
                
                try {
                    // Get selected model and aspect ratio
                    const model = imageModel.value;
                    const ratio = aspectRatio.value;
                    
                    // Map aspect ratio to width and height parameters
                    let width, height;
                    switch(ratio) {
                        case '1:1':
                            width = 512;
                            height = 512;
                            break;
                        case '9:16':
                            width = 360;
                            height = 640;
                            break;
                        case '16:9':
                            width = 640;
                            height = 360;
                            break;
                        default:
                            width = 512;
                            height = 512;
                    }
                    
                    // Define different artistic styles for each image
                    const styles = [
                        { name: "Realistic", promptAddition: "highly detailed, photorealistic, 8k, ultra realistic" },
                        { name: "Painting", promptAddition: "oil painting style, brush strokes, artistic, impressionist" },
                        { name: "Anime", promptAddition: "anime style, vibrant colors, cel-shaded, Studio Ghibli inspired" },
                        { name: "Cyberpunk", promptAddition: "cyberpunk style, neon lights, futuristic, sci-fi, Blade Runner inspired" }
                    ];
                    
                    // Generate 4 images with different styles
                    const imageItems = imageGrid.querySelectorAll('.image-item');
                    for (let i = 0; i < imageItems.length; i++) {
                        const style = styles[i];
                        const enhancedPrompt = `${prompt}, ${style.promptAddition}`;
                        
                        // Generate a random seed for each image to ensure different results
                        const randomSeed = generateRandomSeed();
                        
                        // Use Pollinations.AI image generation with nologo parameter
                        const encodedPrompt = encodeURIComponent(enhancedPrompt);
                        let apiUrl;
                        
                        if (model === 'default') {
                            apiUrl = `https://image.pollinations.ai/prompt/${encodedPrompt}?width=${width}&height=${height}&nologo=true&seed=${randomSeed}`;
                        } else {
                            apiUrl = `https://image.pollinations.ai/prompt/${encodedPrompt}?model=${model}&width=${width}&height=${height}&nologo=true&seed=${randomSeed}`;
                        }
                        
                        // Create image element
                        const img = document.createElement('img');
                        img.src = apiUrl;
                        img.alt = enhancedPrompt;
                        
                        // Create download button
                        const downloadBtn = document.createElement('button');
                        downloadBtn.className = 'download-btn';
                        downloadBtn.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>';
                        downloadBtn.addEventListener('click', (e) => {
                            e.stopPropagation();
                            downloadImage(apiUrl, prompt, i);
                        });
                        
                        // Create style info
                        const styleInfo = document.createElement('div');
                        styleInfo.className = 'image-info';
                        styleInfo.textContent = style.name;
                        
                        // Replace the content of the image item
                        imageItems[i].innerHTML = '';
                        imageItems[i].appendChild(img);
                        imageItems[i].appendChild(styleInfo);
                        imageItems[i].appendChild(downloadBtn);
                        
                        // Add hover effect for download button
                        imageItems[i].addEventListener('mouseenter', () => {
                            downloadBtn.style.opacity = '1';
                        });
                        
                        imageItems[i].addEventListener('mouseleave', () => {
                            downloadBtn.style.opacity = '0';
                        });
                    }
                    
                    // Enable buttons
                    generateButton.disabled = false;
                    regenerateButton.disabled = false;
                    
                    if (isRegenerate) {
                        regenerateButton.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 4v6h6"></path><path d="M23 20v-6h-6"></path><path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path></svg> Regenerate';
                    } else {
                        generateButton.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><path d="M3.27 6.96L12 12.01l8.73-5.05"></path><path d="M12 22.08V12"></path></svg> Generate';
                    }
                    
                    // Show success notification
                    showNotification('4 gambar dengan gaya berbeda berhasil dibuat!');
                } catch (error) {
                    console.error('Error:', error);
                    imageGrid.innerHTML = `
                        <div class="image-item">
                            <p>Gagal menghasilkan gambar. Silakan coba lagi.</p>
                        </div>
                        <div class="image-item">
                            <p>Gagal menghasilkan gambar. Silakan coba lagi.</p>
                        </div>
                        <div class="image-item">
                            <p>Gagal menghasilkan gambar. Silakan coba lagi.</p>
                        </div>
                        <div class="image-item">
                            <p>Gagal menghasilkan gambar. Silakan coba lagi.</p>
                        </div>
                    `;
                    generateButton.disabled = false;
                    regenerateButton.disabled = false;
                    generateButton.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><path d="M3.27 6.96L12 12.01l8.73-5.05"></path><path d="M12 22.08V12"></path></svg> Generate';
                    regenerateButton.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 4v6h6"></path><path d="M23 20v-6h-6"></path><path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path></svg> Regenerate';
                    showNotification('Error membuat gambar');
                }
            }
            
            generateButton.addEventListener('click', function() {
                generateImages(false);
            });
            
            regenerateButton.addEventListener('click', function() {
                if (!imagePrompt.value.trim()) {
                    showNotification('Silakan masukkan prompt terlebih dahulu');
                    return;
                }
                generateImages(true);
            });
            
            // Allow pressing Enter in image prompt to generate
            imagePrompt.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') generateButton.click();
            });

            // Audio generation functionality
            const audioPlayer = document.getElementById('audio-player');
            const audioElement = document.getElementById('audio-element');
            const playButton = document.getElementById('play-button');
            const progressBar = document.getElementById('progress-bar');
            const audioTime = document.getElementById('audio-time');
            const downloadAudioButton = document.getElementById('download-audio');
            const audioInfo = document.getElementById('audio-info');
            const audioPrompt = document.getElementById('audio-prompt');
            const generateAudioButton = document.getElementById('generate-audio-button');
            const randomAudioPromptButton = document.getElementById('random-audio-prompt');
            const voiceSelector = document.getElementById('voice-selector');
            
            const randomAudioPrompts = [
                "Selamat datang di dunia AI yang menakjubkan",
                "Teknologi masa depan sudah ada di genggaman Anda",
                "Suara ini dihasilkan sepenuhnya oleh kecerdasan buatan",
                "Inovasi tidak mengenal batas, mari kita eksplorasi bersama",
                "Dengarkan suara digital yang alami dan manusiawi"
            ];
            
            randomAudioPromptButton.addEventListener('click', function() {
                const randomIndex = Math.floor(Math.random() * randomAudioPrompts.length);
                audioPrompt.value = randomAudioPrompts[randomIndex];
            });
            
            // Audio player controls
            let isPlaying = false;
            
            audioElement.addEventListener('timeupdate', function() {
                const currentTime = formatTime(audioElement.currentTime);
                const duration = formatTime(audioElement.duration);
                audioTime.textContent = `${currentTime} / ${duration}`;
                
                const progress = (audioElement.currentTime / audioElement.duration) * 100;
                progressBar.style.width = `${progress}%`;
            });
            
            audioElement.addEventListener('ended', function() {
                isPlaying = false;
                playButton.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>';
            });
            
            playButton.addEventListener('click', function() {
                if (audioElement.src) {
                    if (isPlaying) {
                        audioElement.pause();
                        playButton.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>';
                    } else {
                        audioElement.play();
                        playButton.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="6" y="4" width="4" height="16"></rect><rect x="14" y="4" width="4" height="16"></rect></svg>';
                    }
                    isPlaying = !isPlaying;
                }
            });
            
            // Progress bar click to seek
            const progressContainer = document.querySelector('.audio-progress');
            progressContainer.addEventListener('click', function(e) {
                if (audioElement.src) {
                    const width = this.clientWidth;
                    const clickX = e.offsetX;
                    const duration = audioElement.duration;
                    audioElement.currentTime = (clickX / width) * duration;
                }
            });
            
            // Format time (seconds to MM:SS)
            function formatTime(seconds) {
                if (isNaN(seconds)) return '00:00';
                
                const minutes = Math.floor(seconds / 60);
                const secs = Math.floor(seconds % 60);
                return `${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            }
            
            // Generate audio from text
            async function generateAudio() {
                const text = audioPrompt.value.trim();
                if (!text) {
                    showNotification('Silakan masukkan teks terlebih dahulu');
                    return;
                }
                
                const voice = voiceSelector.value;
                const encodedText = encodeURIComponent(text);
                
                // Show loading state
                audioInfo.innerHTML = '<div class="loading" style="width: 24px; height: 24px; margin: 0 auto;"></div>';
                generateAudioButton.disabled = true;
                generateAudioButton.innerHTML = '<div class="loading" style="width: 16px; height: 16px;"></div>';
                
                try {
                    // Use Pollinations.AI audio generation
                    const apiUrl = `https://text.pollinations.ai/${encodedText}?model=openai-audio&voice=${voice}`;
                    
                    // Set audio source
                    audioElement.src = apiUrl;
                    
                    // Wait for audio to load
                    await new Promise((resolve, reject) => {
                        audioElement.addEventListener('loadedmetadata', resolve);
                        audioElement.addEventListener('error', reject);
                    });
                    
                    // Update UI
                    audioInfo.textContent = text;
                    downloadAudioButton.onclick = () => downloadAudio(apiUrl, text);
                    
                    // Show success notification
                    showNotification('Audio berhasil digenerate!');
                } catch (error) {
                    console.error('Error generating audio:', error);
                    audioInfo.textContent = 'Gagal menghasilkan audio. Silakan coba lagi.';
                    showNotification('Gagal membuat audio');
                } finally {
                    generateAudioButton.disabled = false;
                    generateAudioButton.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line></svg> Generate';
                }
            }
            
            // Download audio file
            function downloadAudio(url, text) {
                fetch(url)
                    .then(response => response.blob())
                    .then(blob => {
                        const url = window.URL.createObjectURL(blob);
                        const link = document.createElement('a');
                        link.href = url;
                        const promptText = text.trim().substring(0, 30).replace(/[^a-z0-9]/gi, '_').toLowerCase();
                        link.download = `rizqio_${promptText || 'audio'}.mp3`;
                        document.body.appendChild(link);
                        link.click();
                        document.body.removeChild(link);
                        
                        // Show success notification
                        showNotification('Audio berhasil didownload!');
                    })
                    .catch(error => {
                        console.error('Download error:', error);
                        showNotification('Gagal mendownload audio');
                    });
            }
            
            generateAudioButton.addEventListener('click', generateAudio);
            audioPrompt.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') generateAudio();
            });

            // Handle virtual keyboard on mobile
            if ('visualViewport' in window) {
                const visualViewport = window.visualViewport;
                visualViewport.addEventListener('resize', function() {
                    // Scroll to bottom when keyboard appears
                    if (visualViewport.height < window.innerHeight * 0.7) {
                        setTimeout(() => {
                            window.scrollTo(0, document.body.scrollHeight);
                        }, 100);
                    }
                });
            }
        });
    </script>
</body>
</html>
